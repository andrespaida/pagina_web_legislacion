<div class="flex flex-col md:flex-row md:items-end justify-between mb-2 border-slate-100 pb-8">
    <div>
        <h1 class="text-4xl font-black text-slate-900 tracking-tight">Impacto de la Firma Electrónica</h1>
        <p class="text-slate-500 font-medium mt-1">Transformación digital y monitoreo de sostenibilidad institucional.
        </p>
    </div>

    <div class="mt-6 md:mt-0 min-w-[240px]">
        <label for="yearFilter"
            class="block text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-2 ml-1">
            Periodo de Análisis
        </label>
        <div class="relative group">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <svg class="w-5 h-5 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
            </div>

            <select id="yearFilter" onchange="window.filtrarDatos()"
                class="block w-full bg-white border border-slate-200 text-slate-700 py-3 pl-11 pr-10 rounded-xl shadow-sm appearance-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-bold text-sm cursor-pointer transition-all hover:border-blue-300">
                <option value="todos">Histórico Completo</option>
            </select>

            <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
            </div>
        </div>
    </div>
</div>

<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-2">
    <div class="bg-white rounded-xl shadow-sm p-6 border-l-4 border-blue-500">
        <div class="flex items-center">
            <div class="p-3 rounded-full bg-blue-50 text-blue-600">
                <svg class="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z">
                    </path>
                </svg>
            </div>
            <div class="ml-4">
                <p class="text-sm font-medium text-gray-500">Firmas Generadas</p>
                <h3 class="text-2xl font-bold text-gray-900" id="total-firmas">...</h3>
            </div>
        </div>
    </div>

    <div class="bg-white rounded-xl shadow-sm p-6 border-l-4 border-green-500">
        <div class="flex items-center">
            <div class="p-3 rounded-full bg-green-50 text-green-600">
                <svg class="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
                    </path>
                </svg>
            </div>
            <div class="ml-4">
                <p class="text-sm font-medium text-gray-500">Dinero Ahorrado</p>
                <h3 class="text-2xl font-bold text-green-600" id="total-ahorro">...</h3>
            </div>
        </div>
    </div>

    <div class="bg-white rounded-xl shadow-sm p-6 border-l-4 border-emerald-600">
        <div class="flex items-center">
            <div class="p-3 rounded-full bg-emerald-50 text-emerald-600">
                <svg class="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z">
                    </path>
                </svg>
            </div>
            <div class="ml-4">
                <p class="text-sm font-medium text-gray-500">Árboles Salvados</p>
                <h3 class="text-2xl font-bold text-gray-900" id="total-arboles">...</h3>
            </div>
        </div>
    </div>
</div>

<div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">

    <div
        class="lg:col-span-2 bg-white p-8 rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border-l-4 border-blue-500 relative overflow-hidden">
        <div class="absolute top-0 left-0 w-full h-px bg-gray-100"></div>
        <div class="flex items-center justify-between mb-8">
            <div class="flex items-center gap-4">
                <div class="p-3 bg-slate-50 rounded-xl border border-slate-100 shadow-sm">
                    <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                            d="M7 12l3-3 4 4 4-4M3 21h18M3 10V3a1 1 0 011-1h2a1 1 0 011 1v7m11 10V14a1 1 0 011-1h2a1 1 0 011 1v6" />
                    </svg>
                </div>
                <div>
                    <h3 class="text-xl font-black text-slate-900 tracking-tight leading-none">Tendencia Histórica
                        Estimada</h3>
                    <p class="text-[11px] text-slate-400 font-bold uppercase tracking-wider mt-1.5">Análisis evolutivo
                        de certificados activos</p>
                </div>
            </div>
            <span
                class="text-[10px] font-black px-4 py-2 bg-blue-50 text-blue-700 rounded-lg uppercase tracking-[0.1em] border border-blue-100/50 shadow-sm">
                Proyección Técnica
            </span>
        </div>

        <div class="relative h-96">
            <canvas id="evolutionChart"></canvas>
        </div>

        <p class="text-[10px] text-slate-400 mt-4 text-center italic">
            *Curva construida en base a hitos de obligatoriedad SRI y reportes anuales de ARCOTEL.
        </p>
    </div>

    <div class="bg-white p-6 rounded-xl shadow-sm border-l-4 border-indigo-500 overflow-y-auto max-h-[600px]">

        <div class="flex items-center gap-4 mb-2">
            <div class="p-3 bg-indigo-50 rounded-xl border border-indigo-100 shadow-sm">
                <svg class="w-6 h-6 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />
                </svg>
            </div>
            <div>
                <h3 class="text-xl font-black text-slate-900 tracking-tight leading-none">Hitos Verificados (Prensa)
                </h3>
                <p class="text-[11px] text-slate-400 font-bold uppercase tracking-wider mt-1.5">Datos reales respaldados
                    por noticias internacionales</p>
            </div>
        </div>

        <div class="h-px bg-slate-100 w-full mb-6"></div>

        <div class="relative border-l-2 border-gray-200 ml-2 space-y-8">

            <div class="relative pl-6">
                <div
                    class="absolute -left-[9px] top-1 bg-slate-400 h-4 w-4 rounded-full border-2 border-white shadow-sm">
                </div>
                <span class="text-[10px] font-black text-slate-400 uppercase tracking-widest">Sept 2019</span>
                <h4 class="text-sm font-bold text-slate-800">La Base Inicial</h4>
                <div class="text-lg font-black text-slate-600">176.420 Usuarios</div>
                <a href="https://www.elcomercio.com/actualidad/negocios/firma-electronica-ecuador-autorizacion-banco.html"
                    target="_blank"
                    class="flex items-center gap-1.5 text-[10px] text-blue-600 font-bold hover:underline mt-2">
                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                            d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                    </svg>
                    Fuente: El Comercio / Arcotel
                </a>
            </div>

            <div class="relative pl-6">
                <div
                    class="absolute -left-[9px] top-1 bg-indigo-500 h-4 w-4 rounded-full border-2 border-white shadow-sm">
                </div>
                <span class="text-[10px] font-black text-indigo-500 uppercase tracking-widest">Julio 2020</span>
                <h4 class="text-sm font-bold text-slate-800">Efecto Pandemia</h4>
                <div class="text-lg font-black text-indigo-600">Récord en 6 meses</div>
                <p class="text-[11px] text-slate-500 leading-relaxed mt-1">Superó en un semestre a todo el año 2019
                    completo.</p>
                <a href="https://www.eluniverso.com/noticias/2020/06/17/nota/7875492/firma-electronica-uso-tramites-emergencia-ecuador/"
                    target="_blank"
                    class="flex items-center gap-1.5 text-[10px] text-blue-600 font-bold hover:underline mt-2">
                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                            d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                    </svg>
                    Fuente: El Universo (Ver Noticia)
                </a>
            </div>

            <div class="relative pl-6">
                <div
                    class="absolute -left-[9px] top-1 bg-purple-600 h-4 w-4 rounded-full border-2 border-white shadow-sm">
                </div>
                <span class="text-[10px] font-black text-purple-600 uppercase tracking-widest">Dic 2022</span>
                <h4 class="text-sm font-bold text-slate-800">Ley RIMPE (Boom)</h4>
                <div class="text-lg font-black text-purple-700">1.4 Millones</div>
                <p class="text-[11px] text-slate-500 leading-relaxed mt-1">"Durante 2022, se generaron 1,4 millones de
                    firmas".</p>
                <a href="https://machalamovil.com/mas-de-2-millones-de-firmas-electronicas-se-emitirian-en-ecuador-al-cierre-de-2024/"
                    target="_blank"
                    class="flex items-center gap-1.5 text-[10px] text-blue-600 font-bold hover:underline mt-2">
                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                            d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                    </svg>
                    Fuente: Machala Movil (Ver Reporte)
                </a>
            </div>

            <div class="relative pl-6">
                <div
                    class="absolute -left-[9px] top-1 bg-emerald-500 h-4 w-4 rounded-full border-2 border-white shadow-sm animate-pulse">
                </div>
                <span class="text-[10px] font-black text-emerald-600 uppercase tracking-widest">Actualidad</span>
                <h4 class="text-sm font-bold text-slate-800">Consolidación</h4>
                <div class="text-2xl font-black text-emerald-700">+ 2 Millones</div>
                <a href="https://www.eluniverso.com/noticias/economia/firma-electronica-ecuador-mas-de-dos-millones-2024-nota/"
                    target="_blank"
                    class="flex items-center gap-1.5 text-[10px] text-blue-600 font-bold hover:underline mt-2">
                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                            d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                    </svg>
                    Fuente: El Universo (Ver Reporte)
                </a>
            </div>

        </div>
    </div>
</div>

<div
    class="bg-white rounded-[2.5rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] border-l-4 border-blue-600 overflow-hidden mt-16 mb-12">
    <div
        class="px-10 py-7 border-b border-slate-100 bg-slate-50/30 flex flex-col md:flex-row justify-between items-center gap-4">
        <div>
            <h3 class="text-base font-black text-slate-800 uppercase tracking-[0.15em]">
                Parámetros de Cálculo (Ciclo Oficial 2025-2026)
            </h3>
            <p class="text-[10px] text-slate-400 font-bold uppercase mt-1 tracking-wider">Metodología auditada de
                impacto institucional</p>
        </div>
        <span
            class="text-[10px] font-black bg-blue-50 text-blue-600 px-4 py-2 rounded-xl uppercase tracking-widest border border-blue-100 shadow-sm">
            Transparencia Técnica
        </span>
    </div>

    <div class="p-10 grid grid-cols-1 lg:grid-cols-3 gap-16">

        <div class="space-y-6">
            <h4
                class="text-xs font-black text-blue-600 uppercase tracking-[0.2em] border-b-2 border-blue-50 pb-3 flex items-center gap-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                        d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                Ahorro en Tiempo
            </h4>
            <div class="space-y-4 text-sm">
                <div class="flex justify-between items-center border-b border-slate-50 pb-2 group">
                    <span
                        class="text-slate-400 font-bold uppercase text-[10px] group-hover:text-slate-600 transition-colors">Salario
                        Básico (SBU):</span>
                    <span id="ref-salario" class="font-black text-slate-900">-</span>
                </div>
                <div class="flex justify-between items-center border-b border-slate-50 pb-2 group">
                    <span
                        class="text-slate-400 font-bold uppercase text-[10px] group-hover:text-slate-600 transition-colors">Tiempo
                        por gestión:</span>
                    <span class="font-black text-slate-900"><span id="ref-minutos">-</span> min</span>
                </div>
                <div
                    class="flex justify-between items-center bg-emerald-50 p-4 rounded-2xl mt-6 border border-emerald-100 shadow-sm transition-transform hover:scale-[1.02]">
                    <span class="text-[10px] font-black text-emerald-700 uppercase tracking-widest">Costo
                        Ahorrado:</span>
                    <span id="ref-costo-tiempo" class="text-xl font-black text-emerald-600">-</span>
                </div>
            </div>
        </div>

        <div class="space-y-6 lg:border-x lg:border-slate-100 lg:px-8">
            <h4
                class="text-xs font-black text-blue-600 uppercase tracking-[0.2em] border-b-2 border-blue-50 pb-3 flex items-center gap-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                        d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                </svg>
                Ahorro en Insumos
            </h4>
            <div class="space-y-2">
                <div class="flex justify-between items-center text-xs py-1 border-b border-slate-50">
                    <span class="text-slate-400 font-bold uppercase text-[9px]">Responsabilidad Doc:</span>
                    <span id="ref-responsabilidad" class="font-black text-slate-800">-</span>
                </div>
                <div class="flex justify-between items-center text-xs py-1 border-b border-slate-50">
                    <span class="text-slate-400 font-bold uppercase text-[9px]">Precio por resma:</span>
                    <span id="ref-resma" class="font-black text-slate-800">-</span>
                </div>
                <div class="flex justify-between items-center text-xs py-1 border-b border-slate-50">
                    <span class="text-slate-400 font-bold uppercase text-[9px]">Precio por hoja:</span>
                    <span id="ref-hoja" class="font-black text-slate-800">-</span>
                </div>
                <div class="flex justify-between items-center text-xs py-1 border-b border-slate-50">
                    <span class="text-slate-400 font-bold uppercase text-[9px]">Outsourcing:</span>
                    <span id="ref-outsourcing" class="font-black text-slate-800">-</span>
                </div>
                <div class="flex justify-between items-center text-xs py-1 border-b border-slate-50">
                    <span class="text-slate-400 font-bold uppercase text-[9px]">Hojas promedio:</span>
                    <span id="ref-hojas-promedio" class="font-black text-slate-800">-</span>
                </div>
                <div
                    class="flex justify-between items-center bg-blue-600 p-5 rounded-2xl mt-4 shadow-lg shadow-blue-200 border border-blue-500 transition-transform hover:scale-[1.02]">
                    <span class="text-[10px] font-black text-white uppercase tracking-[0.15em]">Precio Total
                        Impresión:</span>
                    <span id="ref-total-imp" class="text-2xl font-black text-white">-</span>
                </div>
            </div>
        </div>

        <div class="space-y-6">
            <h4
                class="text-xs font-black text-emerald-600 uppercase tracking-[0.2em] border-b-2 border-emerald-50 pb-3 flex items-center gap-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                        d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
                </svg>
                Equivalencia Física
            </h4>

            <div class="space-y-4">
                <div
                    class="p-6 bg-emerald-50/40 rounded-[2rem] border-2 border-emerald-100 space-y-4 shadow-sm transition-all hover:bg-emerald-50">
                    <div class="flex justify-between items-center border-b border-emerald-100 pb-3">
                        <span class="text-[10px] font-bold text-emerald-800 uppercase tracking-widest">1 Árbol =</span>
                        <div class="text-right">
                            <span id="ref-hojas-arbol" class="text-2xl font-black text-emerald-700">12.000</span>
                            <span class="text-[9px] text-emerald-600 font-bold block uppercase mt-0.5">Hojas</span>
                        </div>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-[10px] font-bold text-emerald-800 uppercase tracking-widest">1 Árbol =</span>
                        <div class="text-right">
                            <span id="ref-resmas-arbol" class="text-2xl font-black text-emerald-700">24</span>
                            <span class="text-[9px] text-emerald-600 font-bold block uppercase mt-0.5">Resmas</span>
                        </div>
                    </div>
                </div>

                <div
                    class="p-4 bg-slate-50 rounded-2xl border border-slate-100 flex justify-between items-center group hover:bg-white hover:border-blue-200 transition-colors">
                    <div class="flex items-center gap-2">
                        <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        </svg>
                        <span class="text-[10px] font-black text-slate-400 uppercase tracking-tighter">1 Resma =</span>
                    </div>
                    <div class="flex items-baseline gap-1">
                        <span id="ref-hojas-resma" class="text-lg font-black text-slate-800">500</span>
                        <span class="text-[9px] text-slate-400 font-bold uppercase">Hojas</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>